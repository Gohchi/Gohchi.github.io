<!doctype html>
<html lang="en">
	<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5.0, minimum-scale=1, user-scalable=yes"/>
    <meta charset="UTF-8">

		<title>æ—¥æœ¬èª ãƒ¡ãƒ¢</title>
		<link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+1p&display=swap" rel="stylesheet">
    <script type="importmap">
      {
        "imports": {
          "vue": "/vue.esm-browser.prod.js"
        }
      }
    </script>
    <!-- "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.prod.js" -->
    <script type="module" src="scripts.js" defer></script>
	</head>
	<body id="app" class="index">
    <header>
      <div class="title">
        <ruby>ä¸‡ç¯<rp>(</rp><rt>ãƒãƒ³ãƒ‰ãƒ¼</rt><rp>)</rp></ruby>ã®æ—¥æœ¬èªã®ãƒ¡ãƒ¢
      </div>
      <ul class="menu-open menu-index" v-if="showMenu">
        <li><a href="#">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#" @click.prevent="showDialog('dialog-kana')">Hiragana and Katakana</a></li>
        <li><a href="#">Contact</a></li>
        <li><a href="#">COMMON PHRASES ã€ </a></li>
        <li><a href="#" @click.prevent="goTo('translation')">å°èª¬ ãƒ™ãƒ«ã‚»ãƒ«ã‚¯ï¼š ç‚ç«œã®é¨å£«</a></li>
      </ul>
      <div class="icon-menu" @click="showMenu=!showMenu">
      </div>
    </header>

    <div id="loading">
      <p>Loading...</p>
    </div>

    <main class="hidden">
      <article
        v-for="([main, eng, refs], index) in articles" :key="index"
      >
        <span class="main">
          <phrase-to-ruby :text="main">
        </span>
        <button
          v-if="voiceActive"
          @click="speak(main)"
        >ğŸ—£ï¸</button>
        <br />
        <span class="eng" @click="showRefsDialog(refs)">{{ eng }}</span>
      </article>
    </main>
    <footer>
      <div class="actions">
        <button
          class="voice-active"
          title="voice"
          @click="voiceActive=!voiceActive"
        >
        <span aria-hidden="true">{{ voiceActive ? "ğŸ—£ï¸" : "ğŸ”‡" }}</span>
      </button>
      </div>
    </footer>

    <dialog id="dialog-refs" @click="closeDialog('dialog-refs')">
      <h2>References:</h2>
      <div class="content">
      </div>
    </dialog>

    <dialog id="dialog-kana">
      <button class="close-btn" @click="closeDialog('dialog-kana')" aria-label="Close">&times;</button>
        
      <div class="tables">
        <div>
          <h2>Hiragana</h2>
          <div class="content">
            <table class="hiragana-table">
              <tr>
                <td>ã‚</td><td>ã„</td><td>ã†</td><td>ãˆ</td><td>ãŠ</td>
              </tr>
              <tr>
                <td>ã‹</td><td>ã</td><td>ã</td><td>ã‘</td><td>ã“</td>
              </tr>
              <tr>
                <td>ã•</td><td>ã—</td><td>ã™</td><td>ã›</td><td>ã</td>
              </tr>
              <tr>
                <td>ãŸ</td><td>ã¡</td><td>ã¤</td><td>ã¦</td><td>ã¨</td>
              </tr>
              <tr>
                <td>ãª</td><td>ã«</td><td>ã¬</td><td>ã­</td><td>ã®</td>
              </tr>
              <tr>
                <td>ã¯</td><td>ã²</td><td>ãµ</td><td>ã¸</td><td>ã»</td>
              </tr>
              <tr>
                <td>ã¾</td><td>ã¿</td><td>ã‚€</td><td>ã‚</td><td>ã‚‚</td>
              </tr>
              <tr>
                <td>ã‚„</td><td></td><td>ã‚†</td><td></td><td>ã‚ˆ</td>
              </tr>
              <tr>
                <td>ã‚‰</td><td>ã‚Š</td><td>ã‚‹</td><td>ã‚Œ</td><td>ã‚</td>
              </tr>
              <tr>
                <td>ã‚</td><td></td><td>ã‚’</td><td></td><td>ã‚“</td>
              </tr>
            </table>
          </div>
        </div>

        <div>
          <h2>Katakana</h2>
          <div class="content">
            <table class="katakana-table">
              <tr>
            <td>ã‚¢</td><td>ã‚¤</td><td>ã‚¦</td><td>ã‚¨</td><td>ã‚ª</td>
              </tr>
              <tr>
            <td>ã‚«</td><td>ã‚­</td><td>ã‚¯</td><td>ã‚±</td><td>ã‚³</td>
              </tr>
              <tr>
            <td>ã‚µ</td><td>ã‚·</td><td>ã‚¹</td><td>ã‚»</td><td>ã‚½</td>
              </tr>
              <tr>
            <td>ã‚¿</td><td>ãƒ</td><td>ãƒ„</td><td>ãƒ†</td><td>ãƒˆ</td>
              </tr>
              <tr>
            <td>ãƒŠ</td><td>ãƒ‹</td><td>ãƒŒ</td><td>ãƒ</td><td>ãƒ</td>
              </tr>
              <tr>
            <td>ãƒ</td><td>ãƒ’</td><td>ãƒ•</td><td>ãƒ˜</td><td>ãƒ›</td>
              </tr>
              <tr>
            <td>ãƒ</td><td>ãƒŸ</td><td>ãƒ </td><td>ãƒ¡</td><td>ãƒ¢</td>
              </tr>
              <tr>
            <td>ãƒ¤</td><td></td><td>ãƒ¦</td><td></td><td>ãƒ¨</td>
              </tr>
              <tr>
            <td>ãƒ©</td><td>ãƒª</td><td>ãƒ«</td><td>ãƒ¬</td><td>ãƒ­</td>
              </tr>
              <tr>
            <td>ãƒ¯</td><td></td><td>ãƒ²</td><td></td><td>ãƒ³</td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <p>Hiragana and Katakana are two of the three main scripts used in Japanese writing. Hiragana is used for native Japanese words, while Katakana is typically used for foreign words and names.</p>
    </dialog>
	</body>
  <script>
    const intervalId = setInterval(() => {
      const mountPoint = document.getElementById('app');
      if (mountPoint && mountPoint.__vue_app__) {
        console.log('Vue app mounted successfully');
        
        const loadingElement = document.getElementById('loading');
        loadingElement.classList.add('hidden');

        for (const selector of ['main']) {
          const mainContent = document.querySelector(selector);
          mainContent.classList.remove('hidden'); 
        }
        clearInterval(intervalId);
      }
    }, 100);
  </script>
</html>
